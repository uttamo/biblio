{% extends '_base.html' %}

{% block title %}{{ book.title }}{% endblock title %}
{% block content %}
    <a href="{% url 'books' %}"><button type="button" class="btn btn-primary btn-sm mb-2">All Books</button></a>
    <h2>{{ book.title }}</h2>
    {% if book.authors.all|length == 1 %}
        <h5 class="text-muted"><a href="{% url 'author_detail' book.authors.all.0.pk %}">{{ book.authors.all.0.full_name }}</a></h5>
    {% else %}
        <h5 class="text-muted">
            {% for author in book.authors.all %}
                {% if forloop.last %}
                    <a href="{% url 'author_detail' author.pk %}">{{ author.full_name }}</a>
                {% else %}
                    <a href="{% url 'author_detail' author.pk %}">{{ author.full_name }},</a>
                {% endif %}
            {% endfor %}
        </h5>
    {% endif %}
    <p class="mt-3"><strong>Published</strong><br>{{ book.date_published }}</p>
    <p class="mt-3"><strong>Description</strong><br>{{ book.description }}</p>

{% endblock content %}